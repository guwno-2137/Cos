
<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hologram mDowód-style</title>
<style>
  body { margin:0; display:flex; justify-content:center; align-items:center; height:100vh; background:#f0f0f0; }
  #doc {
    position: relative;
    width: 300px;
    height: 180px;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 0 20px rgba(0,0,0,0.2);
    background: #fff;
  }
  canvas { width:100%; height:100%; display:block; }
  #godlo {
    position:absolute;
    top:50%;
    left:50%;
    width:80px;
    height:80px;
    transform: translate(-50%,-50%);
    opacity:0.6;
    pointer-events:none;
  }
</style>
</head>
<body>
  <div id="doc">
    <canvas id="c"></canvas>
    <img id="godlo" src="godlo.svg" alt="godło"/>
  </div>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = canvas.clientWidth * devicePixelRatio;
  canvas.height = canvas.clientHeight * devicePixelRatio;
  ctx.scale(devicePixelRatio, devicePixelRatio);
}
resize();
window.addEventListener("resize", resize);

let ang = 0;

function draw(angle){
  const t = ((angle % 360) + 360) % 360 / 360;

  // płynny gradient kolorów hologramu
  const grd = ctx.createLinearGradient(0, 0, canvas.clientWidth, canvas.clientHeight);
  grd.addColorStop(0, `hsl(${t*360}, 70%, 80%)`);
  grd.addColorStop(0.5, `hsl(${(t*360+60)%360}, 70%, 80%)`);
  grd.addColorStop(1, `hsl(${(t*360+120)%360}, 70%, 80%)`);

  ctx.fillStyle = grd;
  ctx.fillRect(0,0,canvas.clientWidth, canvas.clientHeight);

  // shimmer
  const shimmer = ctx.createLinearGradient(0,0,canvas.clientWidth,canvas.clientHeight);
  shimmer.addColorStop(0,"rgba(255,255,255,0.2)");
  shimmer.addColorStop(0.5,"rgba(255,255,255,0)");
  shimmer.addColorStop(1,"rgba(255,255,255,0.2)");
  ctx.fillStyle = shimmer;
  ctx.fillRect(0,0,canvas.clientWidth,canvas.clientHeight);
}

// obsługa nachylenia telefonu
function handler(e){
  const y = e.accelerationIncludingGravity?.y;
  const z = e.accelerationIncludingGravity?.z;
  if(typeof y==="number" && typeof z==="number"){
    ang = (Math.atan2(y,z)*180/Math.PI + 180) % 360;
    draw(ang);
  }
}

if(window.DeviceMotionEvent){
  window.addEventListener("devicemotion", handler);
}else{
  setInterval(()=>{ ang=(ang+1)%360; draw(ang); }, 40);
}

draw(0);
</script>
</body>
</html>